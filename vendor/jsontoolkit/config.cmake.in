@PACKAGE_INIT@

# Support both casing styles
list(APPEND JSONTOOLKIT_COMPONENTS ${JSONToolkit_FIND_COMPONENTS})
list(APPEND JSONTOOLKIT_COMPONENTS ${jsontoolkit_FIND_COMPONENTS})
if(NOT JSONTOOLKIT_COMPONENTS)
  list(APPEND JSONTOOLKIT_COMPONENTS uri)
  list(APPEND JSONTOOLKIT_COMPONENTS json)
  list(APPEND JSONTOOLKIT_COMPONENTS jsonl)
  list(APPEND JSONTOOLKIT_COMPONENTS jsonpointer)
  list(APPEND JSONTOOLKIT_COMPONENTS jsonschema)
  list(APPEND JSONTOOLKIT_COMPONENTS yaml)
endif()

include(CMakeFindDependencyMacro)

foreach(component ${JSONTOOLKIT_COMPONENTS})
  if(component STREQUAL "uri")
    find_dependency(uriparser)
    include("${CMAKE_CURRENT_LIST_DIR}/sourcemeta_jsontoolkit_uri.cmake")
  elseif(component STREQUAL "json")
    find_dependency(noa)
    include("${CMAKE_CURRENT_LIST_DIR}/sourcemeta_jsontoolkit_json.cmake")
  elseif(component STREQUAL "jsonl")
    include("${CMAKE_CURRENT_LIST_DIR}/sourcemeta_jsontoolkit_json.cmake")
    include("${CMAKE_CURRENT_LIST_DIR}/sourcemeta_jsontoolkit_jsonl.cmake")
  elseif(component STREQUAL "jsonpointer")
    find_dependency(uriparser)
    include("${CMAKE_CURRENT_LIST_DIR}/sourcemeta_jsontoolkit_uri.cmake")
    include("${CMAKE_CURRENT_LIST_DIR}/sourcemeta_jsontoolkit_json.cmake")
    include("${CMAKE_CURRENT_LIST_DIR}/sourcemeta_jsontoolkit_jsonpointer.cmake")
  elseif(component STREQUAL "jsonschema")
    find_dependency(uriparser)
    include("${CMAKE_CURRENT_LIST_DIR}/sourcemeta_jsontoolkit_uri.cmake")
    include("${CMAKE_CURRENT_LIST_DIR}/sourcemeta_jsontoolkit_json.cmake")
    include("${CMAKE_CURRENT_LIST_DIR}/sourcemeta_jsontoolkit_jsonpointer.cmake")
    include("${CMAKE_CURRENT_LIST_DIR}/sourcemeta_jsontoolkit_jsonschema.cmake")
  elseif(component STREQUAL "yaml")
    include("${CMAKE_CURRENT_LIST_DIR}/sourcemeta_jsontoolkit_json.cmake")
    find_dependency(yaml)
    include("${CMAKE_CURRENT_LIST_DIR}/sourcemeta_jsontoolkit_yaml.cmake")
  else()
    message(FATAL_ERROR "Unknown JSON Toolkit component: ${component}")
  endif()
endforeach()

check_required_components("@PROJECT_NAME@")
